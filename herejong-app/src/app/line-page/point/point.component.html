<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="ball-clip-rotate" [fullScreen]="true">
    <p style="color: white"> Loading... </p>
</ngx-spinner>

<div class="container">

    <div class="row mb-2">
        <div class="col">
            <span class="driver-text">เหรียญของฉัน</span>
        </div>

    </div>

    <div class="row">

        <div class="col-md-3">
            <div class="card card-admin">
                <div class="card-body ">
    
                    <div class="row mb-2">
                        <div class="col-md-12 text-center">
                            <button type="button" class="usd-circle"><i class="fa fa-usd fa-3x"
                                    aria-hidden="true"></i></button>
                        </div>
    
                    </div>
                    <div class="row " *ngIf="userProfileGet">
                        <div class="col-md-12 text-center text-point-data">
                            {{userProfileGet.point| number}}
                        </div>
    
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-12 text-center text-point">
                            เหรียญ
                        </div>
    
                    </div>
                    <div class="row mb-2">
                        <div class="col-md-12 ">
                            <button (click)="showPointModal()" type="button" class="btn black-point"><i
                                    class="fa fa-plus mr-2"></i>เติมเหรียญ</button>
                        </div>
    
                    </div>
                </div>
            </div>
        </div>

    </div>

   
</div>

<div class="modal fade" bsModal #pointModal="bs-modal" tabindex="-1" role="dialog" aria-labelledby="dialog-static-name">

    <div class="modal-dialog modal-sm modal-dialog-driver">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="dialog-static-name" class="modal-title pull-left">เติมเหรียญ</h4>
                <button type="button" class="close pull-right" aria-label="Close" (click)="pointModal.hide()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form  *ngIf="userProfileGet" [formGroup]="pointForm" (ngSubmit)="onSubmitPoint(userProfileGet.userId)">
                <div class="modal-body">

                    <div class="row row-data">

                        <div class="col-md-12">

                            <mat-form-field appearance="outline">
                                <mat-label>จํานวนเหรียญที่ต้องการเติม</mat-label>

                                <mat-select formControlName="pointInfo">
                                    <mat-option *ngFor="let pointInfo of pointInfo" [value]="pointInfo">
                                        {{pointInfo.point | number}} เหรียญ / {{pointInfo.price | number}} บาท
                                    </mat-option>
                                </mat-select>

                                <mat-error *ngIf="pointForm.get('pointInfo').hasError('required')">
                                    กรุณาเลือกจํานวนเหรียญที่ต้องการเติม
                                </mat-error>

                            </mat-form-field>

                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary cancel-background"
                        (click)="pointModal.hide()">ยกเลิก</button>
                    <button type="submit" class="btn black-background">ยืนยัน</button>
                </div>
            </form>
        </div>
    </div>

</div>


